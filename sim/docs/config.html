<HTML>
<HEAD>
<TITLE>Simulator Configuration</TITLE>
</HEAD>
<BODY>
<H3>Simulator Configuration</H3>

<P>The simulator is customized using a plain-text configuration file.
This file contains "property=value" lines which define the simulator
configuration. The configuration file is searched in the following order:

<OL>
<LI>File name specified on the JAVA command
<LI>File name in environment variable "COSMACELF_CFG"
<LI>"./cosmac_elf.rc"
<LI>"$HOME/.cosmac_elfrc"
</OL>

<P>Any properties given on the command line will
override those in a configuration file.
Command line properties must include an equals sign ('=')
in order to be recognized, regardless of whether the property
value is used/required.

<P>The following properties are recognized:

<DL>

<DT>log</DT>
<DD>Specifies a file to be used for simulator (debug) output.
Default is to send all output to stderr. Adding a "a" after
the file name causes the previous file contents to be preserved,
otherwise the file is truncated each time the simulator starts.</DD>

<DT>ram</DT>
<DD>Specifies the size of RAM. RAM starts at 0000h, but may
be overlayed with PROM. Value must be a power of two.
A suffix of "k" may be used to multiply by 1024.
Default is 256 bytes.</DD>

<DT>prom</DT>
<DD>Specifies the file containing an image to be used for PROM.
This image will be expanded to the next power of two in size.
This property causes the base ELF to include jumper pins
under the hex displays. Clicking on the jumper pins will
install (or remove) a jumper plug on the pins. When plug is installed,
PROM is enabled and overlays RAM at 0000h. Note, there must be
more RAM than ROM, if RAM is required. RAM "underneath" the PROM
is not accessible.</DD>

<DT>autorun</DT>
<DD>Simulator starts up in RUN mode (LOAD off), with PROM enabled (if present).
</DD>

<DT>preload</DT>
<DD>Loads program into memory, at specified address.
Value is filename/path to binary image, and optional hexadecimal address
(separated by blank space).
Default address is 0000.
</DD>

<DT>iodecoder</DT>
<DD>Choose the I/O decoder scheme. Values are:
<DL>
<DT>simple</DT>
<DD>is the default, where multiple devices might be activated
by certain I/O instructions (e.g. "OUT 7").
</DD>
<DT>strict</DT>
<DD>is where the N0,N1,N2 lines connect to a 1-of-8 decoder.
Each I/O instruction activates strictly 1 device.
</DD>
<DT>extended</DT>
<DD>Not yet implemented.
This scheme requires an extra output port/latch to hold
an 8-bit I/O port address. Every I/O device requires setting the
port first.
</DD>
</DL>
</DD>

<DT>elffrontpanel_port</DT>
<DD>Set the I/O port ('n' for "OUT n"/"IN n" instructions).
Default is 4 (using N2 signal).</DD>

<DT>elffrontpanel_ef</DT>
<DD>Set the EF input for detecting IN button.
Default is 4 (using EF4 signal).</DD>

<DT>hexkeypad</DT>
<DD>(value ignored) Add the hexadecimal keypad to the simulation.</DD>

<DT>hexkeypad_port</DT>
<DD>Set the I/O port ('n' for "OUT n"/"IN n" instructions).
Default is 2 (using N1 signal).</DD>

<DT>hexkeypad_ef</DT>
<DD>Set the EF input for detecting key pressed.
Default is 2 (using EF2 signal).</DD>

<DT>pixie</DT>
<DD>(value ignored) Add the PIXIE graphic display to the simulation.</DD>

<DT>pixie_color</DT>
<DD>Specify the screen color for the PIXIE graphic display.
Value is a 6-digit hexadecimal number representing RGB.
Default is green (00ff00).</DD>

<DT>pixie_port</DT>
<DD>Set the I/O port ('n' for "OUT n"/"IN n" instructions).
Default is 1 (using N0 signal).</DD>

<DT>pixie_ef</DT>
<DD>Set the EF input for detecting frame refresh start/end.
Default is 1 (using EF1 signal).</DD>

<DT>quart</DT>
<DD>(value ignored) Add the Q-UART serial interface to the simulation.</DD>

<DT>quart_ef</DT>
<DD>Set the EF input for receiving serial data.
Default is 3 (using EF3 signal).</DD>

<DT>quart_baud</DT>
<DD>Set the serial data data rate.
Default is 1200 baud.
Beware of using non-standard values or values greater than 1200.</DD>

<DT>quart_nbit</DT>
<DD>Number of data bits. Values between 5 and 8 are accepted.
Default is "8". Parity is not currently supported.
STOP bits are not critical, 1 is sent.</DD>

<DT>quart_qmark</DT>
<DD>"0" or "1" to select which level on Q indicates RS232 "MARK".
Default is "1": Q "on" equates to RS232 MARK.</DD>

<DT>quart_efmark</DT>
<DD>"0" or "1" to select which level on EF indicates RS232 "MARK".
Default is "1": Q "on" equates to RS232 MARK.</DD>

<DT>quart_att</DT>
<DD>Define what is attached to the Q-UART serial port.
Must match a JAVA class that is built-in to the JAR.
Classes available:
  <DL>
  <DT>GlassTtySerial</DT>
  <DD>A very simple scrolling text window.
      <A HREF="teletype.html">For operating instructions click here</A>.
  </DD>
  <DT>TelnetSerial ip-addr port</DT>
  <DD>A telnet (TCP/IP socket) connection at IP address and port.
      The client program should be set to "raw" or "character" mode,
      to avoid translation of CR and buffering until ENTER is pressed.
      "mode character" is the command for telnet, and can be setup
      in the ~/.telnetrc file.
  </DD>
  </DL>
</DD>

</DL>

</BODY>
</HTML>
